<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digital Tool Library Feedback</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Work Sans -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Work+Sans:wght@300;400;500;700&display=swap" rel="stylesheet">
    <!-- Link to external stylesheet -->
    <link rel="stylesheet" href="index.css">
    <script>
        // Customizing Tailwind CSS with the library's brand colors
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Work Sans', 'sans-serif'],
                    },
                    colors: {
                        'brand-teal-dark': '#007582',
                        'brand-teal': '#00A5A5',
                        'brand-teal-light': '#5DBFC0',
                        'brand-banner-teal': '#128379',
                        'brand-grey-light': '#E2F2F2',
                        'brand-text': '#333333',
                    }
                }
            }
        }
    </script>
</head>
<body class="font-sans">

    <div class="bg-gray-100 py-12 px-4">
        <div class="w-full max-w-2xl mx-auto bg-white rounded-xl shadow-lg p-6 md:p-10">
            
            <!-- Main container for the app -->
            <div id="appContainer">

                <!-- Header Section -->
                <div class="mb-8">
                    <!-- Banner -->
                    <div class="bg-brand-banner-teal rounded-lg flex items-center justify-center p-4 mb-6">
                         <img src="https://georgesriver.spydus.com/api/maintenance/1.0/imagebrowser/image?blobName=a31cf63f-7e24-41d5-b1f8-c206bde45ce6.png" alt="Georges River Libraries Logo" class="h-16">
                    </div>
                    <h1 class="text-4xl font-bold text-center text-brand-teal-dark" data-translate-key="main_title">Digital Tool Library Feedback</h1>
                </div>

                <!-- Language Selector Section -->
                <div id="languageSelector" class="mb-8">
                    <h2 class="text-center text-lg font-semibold text-brand-banner-teal mb-3" data-translate-key="select_language">Select your language:</h2>
                    <div class="flex flex-wrap justify-center gap-2">
                        <!-- Language buttons will be dynamically inserted here -->
                    </div>
                </div>

                <!-- Feedback Type Selector -->
                <div id="feedbackTypeSelector" class="mb-8 text-center">
                    <h2 class="text-lg font-semibold text-brand-banner-teal mb-4" data-translate-key="feedback_type_label">What is the nature of your feedback?</h2>
                    <div id="feedbackTypeButtons" class="flex justify-center gap-3">
                        <!-- Problem Button -->
                        <button type="button" class="feedback-type-button" data-feedback-type="problem">
                            <svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z" /></svg>
                            <span data-translate-key="feedback_problem">I have a problem to report</span>
                        </button>
                        <!-- Suggestion Button -->
                        <button type="button" class="feedback-type-button" data-feedback-type="suggestion">
                           <svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M12 2.25c-3.866 0-7 3.134-7 7 0 2.28.98 4.348 2.56 5.818V17a1 1 0 001 1h6a1 1 0 001-1v-1.932A6.996 6.996 0 0019 9.25c0-3.866-3.134-7-7-7z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M9 20v1a3 3 0 003 3h0a3 3 0 003-3v-1H9z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="m9.75 9.75 2 2 4-4" />
                           </svg>
                           <span data-translate-key="feedback_suggestion">I have a suggestion for the collection</span>
                        </button>
                        <!-- Creation Button -->
                        <button type="button" class="feedback-type-button" data-feedback-type="creation">
                            <svg class="w-8 h-8 mb-2" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 0 1 1.04 0l2.125 5.111a.563.563 0 0 0 .475.345l5.518.442c.499.04.701.663.32 1.011l-4.204 3.602a.563.563 0 0 0-.182.557l1.285 5.385a.562.562 0 0 1-.84.61l-4.725-2.885a.562.562 0 0 0-.586 0L6.982 20.54a.562.562 0 0 1-.84-.61l1.285-5.386a.562.562 0 0 0-.182-.557l-4.204-3.602a.562.562 0 0 1 .32-1.011l5.518-.442a.563.563 0 0 0 .475-.345L11.48 3.5Z" /></svg>
                            <span data-translate-key="feedback_creation">I want to share something I created!</span>
                        </button>
                    </div>
                </div>

                <!-- Form Section -->
                <form id="feedbackForm">
                    <input type="hidden" id="feedbackType" name="feedbackType" value="">
                    
                    <div id="mainFormContent" class="space-y-6 hidden mt-6">
                        <!-- Item Name Input -->
                        <div id="itemNameContainer">
                            <label for="itemName" class="block text-sm font-medium text-brand-text mb-1" data-translate-key="item_name_label">What item are you providing feedback for?</label>
                            <input type="text" id="itemName" name="itemName" required data-translate-key="item_name_placeholder" placeholder="e.g., 'Ukulele' or '3D Printer'" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-teal focus:border-brand-teal transition">
                        </div>

                        <!-- Barcode Number Input -->
                        <div id="barcodeContainer">
                            <label for="barcode" class="block text-sm font-medium text-brand-text mb-1" data-translate-key="barcode_label">What is the barcode number?</label>
                            <input type="text" id="barcode" name="barcode" data-translate-key="barcode_placeholder" placeholder="e.g., '3400001234567'" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-teal focus:border-brand-teal transition">
                        </div>

                        <!-- Conditional "Share a Link" Field -->
                        <div id="creationLinkContainer">
                            <label for="creationLink" class="block text-sm font-medium text-brand-text mb-1" data-translate-key="link_label">Optional: Share a link to your creation</label>
                            <input type="url" id="creationLink" name="creationLink" data-translate-key="link_placeholder" placeholder="e.g., a link to a YouTube video, blog post, or photo" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-teal focus:border-brand-teal transition">
                        </div>

                        <!-- Details Text Area -->
                        <div id="detailsContainer">
                            <label for="details" id="detailsLabel" class="block text-sm font-medium text-brand-text mb-1" data-translate-key="details_label">Please provide more details</label>
                            <textarea id="details" name="details" rows="4" required data-translate-key="details_placeholder" placeholder="Describe the issue, your suggestion, or your creation story here" class="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-teal focus:border-brand-teal transition"></textarea>
                        </div>
                    </div>

                    <!-- Submit Button -->
                    <button type="submit" id="submitButton" class="w-full bg-brand-banner-teal text-white font-bold py-3 px-4 rounded-lg hover:bg-brand-teal-dark focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-brand-banner-teal transition-all duration-300 flex items-center justify-center mt-6">
                        <span id="buttonText" data-translate-key="submit_button">Submit</span>
                        <svg id="buttonSpinner" class="animate-spin -ml-1 mr-3 h-5 w-5 text-white hidden" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
                            <circle class="opacity-25" cx="12" cy="12" r="10" stroke="currentColor" stroke-width="4"></circle>
                            <path class="opacity-75" fill="currentColor" d="M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"></path>
                        </svg>
                    </button>
                </form>

                <!-- Error Message Box -->
                <div id="errorMessage" class="hidden mt-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded-lg text-center">
                    <!-- Error message will be inserted here -->
                </div>
            </div>

            <!-- Confirmation Message Section (Initially Hidden) -->
            <div id="confirmationMessage" class="hidden text-center">
                <svg class="mx-auto h-16 w-16 text-brand-teal" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                <h2 class="mt-4 text-2xl font-bold text-brand-teal-dark" data-translate-key="confirm_title">Thank You!</h2>
                <p class="mt-2 text-gray-600" data-translate-key="confirm_message">Your feedback has been received We appreciate you helping us improve our collection</p>
                <button id="resetFormButton" class="mt-6 bg-gray-600 text-white font-bold py-2 px-6 rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500 transition" data-translate-key="submit_another_button">
                    Submit Another Response
                </button>
            </div>
        </div>
    </div>

    <!-- Link to external JavaScript file -->
    <script type="module" src="index.tsx"></script>
</body>
</html>